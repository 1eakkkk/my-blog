
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <!-- Á¶ÅÊ≠¢ÊµèËßàÂô®ÁºìÂ≠òÂΩìÂâçÈ°µÈù¢ -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <!-- Ê†∏ÂøÉ‰øÆÂ§çÔºöÊ∑ªÂä† user-scalable=no, maximum-scale=1.0 -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>1eak.cool | Êï∞Â≠óÂü∫Âú∞</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üí†</text></svg>">
    <link rel="stylesheet" href="style.css?v=6.0">
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    <!-- Markdown Ëß£ÊûêÂ∫ì -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <!-- XSS ÂáÄÂåñÂ∫ì (ÂÆâÂÖ®ÂøÖÈ°ª) -->
    <script src="https://cdn.jsdelivr.net/npm/dompurify/dist/purify.min.js"></script>
    <style>
        #loading-mask {
            position: fixed; top: 0; left: 0; width: 100vw; height: 100vh;
            background-color: #000; z-index: 99999;
            display: flex; justify-content: center; align-items: center;
            color: #0070f3; font-family: 'JetBrains Mono', monospace; font-size: 1.2rem;
            flex-direction: column; text-align: center;
        }
        .loading-spinner {
            width: 40px; height: 40px; border: 3px solid #333;
            border-top: 3px solid #0070f3; border-radius: 50%;
            animation: spin 1s linear infinite; margin-bottom: 20px;
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        .fallback-btn {
            margin-top: 20px; padding: 10px 20px; border: 1px solid #333;
            background: transparent; color: #fff; cursor: pointer; display: none;
        }
    </style>
</head>
<body>

    <div id="toast-container"></div>
    <div id="loading-mask">
        <div class="loading-spinner" id="spinner"></div>
        <div id="loading-text">SYSTEM SECURITY CHECK...</div>
        <button class="fallback-btn" onclick="window.location.href='/login.html'">Âº∫Âà∂Ë∑≥ËΩ¨ÁôªÂΩï</button>
    </div>
    <script>
        setTimeout(() => {
            const mask = document.getElementById('loading-mask');
            if (mask && mask.style.opacity !== '0') {
                document.getElementById('loading-text').innerHTML = "CONNECTION TIMEOUT";
                document.querySelector('.fallback-btn').style.display = 'block';
            }
        }, 5000);
    </script>

    <div class="bg-grid"></div>
    <div class="mobile-menu-btn" id="mobileMenuBtn">‚ò∞</div>

    <!-- ÂÖ®ÊúçÊí≠Êä• HUD ÊòæÁ§∫Â±Ç (ÈªòËÆ§ÈöêËóè) -->
    <div id="broadcast-hud" class="broadcast-overlay" style="display:none;">
        <div class="hud-center-box" id="hudBox">
            <!-- Ë£ÖÈ•∞ÊÄßÊâ´ÊèèÁ∫ø -->
            <div class="hud-scan-line"></div>
            <!-- È°∂ÈÉ®Â∞èÂ≠ó -->
            <div class="hud-label">SYSTEM BROADCAST // <span id="hudUser">UNKNOWN</span></div>
            <!-- Ê†∏ÂøÉÂÜÖÂÆπ -->
            <div class="hud-content" id="hudContent">HELLO WORLD</div>
            <!-- Â∫ïÈÉ®Ë£ÖÈ•∞ -->
            <div class="hud-footer-deco">
                <span class="dot">‚óè</span> <span class="line"></span> <span class="dot">‚óè</span>
            </div>
        </div>
    </div>

    <!-- ÈÅìÂÖ∑‰ΩøÁî®ÂºπÁ™ó (ËæìÂÖ•ÊñáÂ≠ó/ÈÄâÈ¢úËâ≤) -->
    <div id="item-use-modal" class="modal-overlay" style="display:none;">
        <div class="modal-card glass-card">
            <h3>‰ΩøÁî®ÔºöÈ™áÂÆ¢ÂÆ£Ë®ÄÂç°</h3>
            <p style="color:#888; font-size:0.8rem; margin-bottom:15px;">ÂÖ®ÊúçÁé©ÂÆ∂ËøõÂÖ•ÁΩëÁ´ôÊó∂ÂèØËßÅÔºåÊåÅÁª≠24Â∞èÊó∂„ÄÇ</p>
            
            <input type="text" id="broadcastInput" class="cyber-input" placeholder="ËæìÂÖ•ÂÆ£Ë®Ä (Èôê20Â≠ó)..." maxlength="20">
            
            <div style="margin-bottom:15px; text-align:left;">
                <label style="font-size:0.8rem; color:#aaa;">ÊñáÂ≠óÈ¢úËâ≤ÁâπÊïàÔºö</label>
                <div class="color-picker-row">
                    <div class="color-dot" style="background:#fff" onclick="selectBroadcastColor('#ffffff', this)"></div>
                    <div class="color-dot" style="background:#00f3ff" onclick="selectBroadcastColor('#00f3ff', this)"></div>
                    <div class="color-dot" style="background:#bd00ff" onclick="selectBroadcastColor('#bd00ff', this)"></div>
                    <div class="color-dot" style="background:#ff3333" onclick="selectBroadcastColor('#ff3333', this)"></div>
                    <div class="color-dot rainbow-dot" onclick="selectBroadcastColor('rainbow', this)">üåà</div>
                </div>
            </div>
            
            <div style="display:flex; gap:10px;">
                <button onclick="closeItemModal()" class="cyber-btn" style="border-color:#666; color:#888;">ÂèñÊ∂à</button>
                <button onclick="submitBroadcast()" class="cyber-btn">Êèê‰∫§ÂÆ°Ê†∏</button>
            </div>
        </div>
    </div>

    <!-- Âä†ÂÖ•ÂØπÂ±ÄÂºπÁ™ó (Join Duel Modal) -->
    <div id="join-duel-modal" class="modal-overlay" style="display:none;">
        <div class="modal-card glass-card" style="text-align:center; max-width: 350px;">
            <h3 style="color:#fff; margin-bottom:5px;">Êé•ÂèóÊåëÊàò // ACCEPT DUEL</h3>
            <p style="color:#888; font-size:0.8rem;">ÈÄâÊã©‰Ω†ÁöÑÊï∞ÊçÆÊ≠¶Âô®ËøõË°åÂØπÊäó</p>
            
            <!-- ‰øÆÊîπÂêéÔºöÈáåÈù¢Âä†‰∫ÜÂõæÊ†á -->
            <div class="join-modal-grid">
                <!-- ‚öîÔ∏è Ââ™ÂàÄ -->
                <div class="join-option opt-blade" onclick="selectJoinMove('blade', this)"></div>
                <!-- üßä Áü≥Â§¥ -->
                <div class="join-option opt-cube" onclick="selectJoinMove('cube', this)"></div>
                <!-- üìÑ Â∏É -->
                <div class="join-option opt-membrane" onclick="selectJoinMove('membrane', this)"></div>
            </div>
    
            <!-- ÈöêËóèÂüüÂ≠òÂÇ®Êï∞ÊçÆ -->
            <input type="hidden" id="joinDuelIdVal">
            <input type="hidden" id="joinMoveVal">
    
            <div style="display:flex; gap:10px; margin-top:20px;">
                <button onclick="closeJoinModal()" class="cyber-btn" style="border-color:#666; color:#888;">ÂèñÊ∂à</button>
                <button onclick="confirmJoinDuel()" class="cyber-btn" style="border-color:#ff3333; color:#ff3333;">FIGHT!</button>
            </div>
        </div>
    </div>

    <!-- ‚öîÔ∏è ÂØπÊàòÂä®ÁîªÂÖ®Â±èÈÅÆÁΩ© (Â¶ÇÊûú‰Ω†ÁöÑ‰ª£Á†ÅÈáåÊ≤°ÊúâËøô‰∏ÄÊÆµÔºåÂõûÊîæÁªùÂØπ‰∏ç‰ºöÊòæÁ§∫) ‚öîÔ∏è -->
    <div id="duel-overlay" class="duel-overlay" style="display:none;">
        <div class="arena-stage">
            <!-- Â∑¶‰æß: ÊàëÊñπ -->
            <div class="arena-player left">
                <div class="player-name" id="arenaP1Name">YOU</div>
                <div class="data-orb" id="orbP1"></div>
            </div>
                
            <!-- ‰∏≠Èó¥: ÂØπÊíûÂå∫ -->
            <div class="arena-center">
                <div class="vs-text">VS</div>
                <div class="collision-flash" id="collisionFlash"></div>
            </div>
                
            <!-- Âè≥‰æß: ÊïåÊñπ -->
            <div class="arena-player right">
                <div class="player-name" id="arenaP2Name">OPPONENT</div>
                <div class="data-orb" id="orbP2"></div>
            </div>
        </div>
                    
           <!-- ÁªìÊûúÁªìÁÆóÈù¢Êùø -->
        <div id="duelResultPanel" class="duel-result-panel" style="display:none;">
            <h1 id="duelResultTitle">VICTORY</h1>
            <div id="duelResultDetail" style="margin-bottom:20px; color:#ccc;">+198 iCoins</div>
            <button onclick="closeDuelOverlay()" class="cyber-btn" style="border-color:#fff; color:#fff; width:auto; padding:10px 30px;">CLOSE</button>
        </div>
    </div>

    <div class="app-container">
        <!-- ‰æßËæπÊ†è -->
        <aside class="sidebar" id="sidebar">
            <div class="logo">1EAK<span class="dot">.</span>COOL</div>
            
            <div class="user-card" id="userCard">
                <div class="sidebar-actions-row">
                    <button id="checkInBtn" class="cyber-btn action-btn">
                        üìÖ Á≠æÂà∞
                    </button>
                    <button onclick="doLuckyDraw()" class="cyber-btn action-btn" style="border-color:#bc13fe; color:#bc13fe;">
                        üé≤ ÊäΩÂ•ñ
                    </button>
                </div>
                <!-- Âª∫ËÆÆÊñ∞Âª∫‰∏ÄË°åÂú®‰∏ãÈù¢ÔºåÊàñËÄÖÊää sidebar-actions-row Êîπ‰∏∫ grid -->
                <div class="sidebar-actions-row" style="margin-top:5px;">
                    <button onclick="openLottoModal()" class="cyber-btn action-btn" style="border-color:#ffd700; color:#ffd700;">
                        üé´ ÂÖ®Êúç‰πêÈÄè
                    </button>
                </div>
                <div class="user-header-row">
                    <div id="avatarContainer"></div>
                    <div class="user-info">
                        <h3 id="username">LOADING...</h3>
                        <div id="badgesArea"></div>
                            <!-- Êñ∞Â¢ûÔºö‰∏™ÊÄßÁ≠æÂêçÂ±ïÁ§∫ -->
                        <div id="userBioDisplay" style="font-size:0.75rem; color:#888; margin-top:8px; font-style:italic; word-break:break-all;"></div>
                    </div>
                </div>
                <div class="xp-container">
                    <div class="xp-info"><span>XP</span><span id="xpText">0 / 100</span></div>
                    <div class="xp-bar-bg"><div class="xp-bar-fill" id="xpBar"></div></div>
                </div>
            </div>
            
            <!-- ‰æßËæπÊ†èÂØºËà™Âå∫Âüü -->
            <nav>
                <!-- È¶ñÈ°µ -->
                <a href="#home" class="nav-link active">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg>
                    È¶ñÈ°µ
                </a>

                <!-- Ê∂àÊÅØ (Â∏¶Á∫¢ÁÇπ) -->
                <a href="#notifications" class="nav-link" id="navNotify" style="display:flex; align-items:center;">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;"><path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path><path d="M13.73 21a2 2 0 0 1-3.46 0"></path></svg>
                    <span style="flex:1">Ê∂àÊÅØ</span>
                    <span id="notifyBadge" class="notify-badge" style="display:none">0</span>
                </a>

                <!-- ÊéíË°åÊ¶ú -->
                <a href="#leaderboard" class="nav-link">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;"><path d="M18 20V10"></path><path d="M12 20V4"></path><path d="M6 20v-6"></path></svg>
                    ÊéíË°åÊ¶ú
                </a>

                <!-- N.O.D.E ÊéßÂà∂Âè∞ -->
                <a href="#node" class="nav-link" style="color: #00ff00;">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;"><path d="M2 12h20"></path><path d="M2 12l5 5"></path><path d="M2 12l5-5"></path><circle cx="12" cy="12" r="3"></circle><path d="M22 12l-5 5"></path><path d="M22 12l-5-5"></path></svg>
                    N.O.D.E ÊéßÂà∂Âè∞
                </a>

                <a href="#duel" class="nav-link" style="color: #ff3333;">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;"><polygon points="12 2 2 7 12 12 22 7 12 2"></polygon><polyline points="2 17 12 22 22 17"></polyline><polyline points="2 12 12 17 22 12"></polyline></svg>
                    Êï∞ÊçÆÊ†ºÊñóÂú∫
                </a>

                <a href="#pub" class="nav-link" style="color:#ff00de;">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M8 3v18M16 3v18M3 21h18M3 3h18"/></svg>
                     ËµõÂçöÈÖíÈ¶Ü
                </a>
        
                <!-- ÁßÅ‰ø°‰∏éÂ•ΩÂèã -->
                <a href="#chat" class="nav-link" id="navChat">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path></svg>
                    ÁßÅ‰ø°‰∏éÂ•ΩÂèã
                    <span id="chatBadge" class="notify-badge" style="display:none; background-color:#ff00de;">0</span>
                </a>

                <!-- ÂèëÂ∏ñÂÖ•Âè£ -->
                <a href="#write" class="nav-link" id="navWrite">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path></svg>
                    ÂèëÂ∏ñÂÖ•Âè£
                </a>

                <!-- ÈÅìÂÖ∑ÂïÜÂüé (ÈáëËâ≤ÊñáÂ≠ó) -->
                <a href="#shop" class="nav-link" style="color:#FFD700;">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;"><path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"></path><line x1="3" y1="6" x2="21" y2="6"></line><path d="M16 10a4 4 0 0 1-8 0"></path></svg>
                    ÈÅìÂÖ∑ÂïÜÂüé
                </a>

                <!-- ‰∏™‰∫∫ËÉåÂåÖ -->
                <a href="#inventory" class="nav-link" id="navInventory">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;"><path d="M20 14.66V20a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V14.66"></path><path d="M16 11V8a4 4 0 0 0-8 0v3"></path><rect x="4" y="11" width="16" height="4" rx="2"></rect></svg>
                    ‰∏™‰∫∫ËÉåÂåÖ
                </a>

                <!-- ÂèçÈ¶à‰∏≠ÂøÉ -->
                <a href="#feedback" class="nav-link">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;"><path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path></svg>
                    ÂèçÈ¶à‰∏≠ÂøÉ
                </a>

                <!-- ÊàëÁöÑ‰∏ªÈ°µ -->
                <a href="#profile?u=" id="navMyProfile" class="nav-link" onclick="if(currentUser) this.href='#profile?u='+currentUser.username">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg>
                    ÊàëÁöÑ‰∏ªÈ°µ
                </a>

                <!-- ‰∏™‰∫∫ËÆæÁΩÆ -->
                <a href="#settings" class="nav-link">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;"><circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path></svg>
                    ‰∏™‰∫∫ËÆæÁΩÆ
                </a>

                <!-- ÂÖ≥‰∫é -->
                <a href="#about" class="nav-link">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line></svg>
                    ÂÖ≥‰∫é
                </a>

                <!-- ÁÆ°ÁêÜÂêéÂè∞ (Á∫¢Â≠ó) -->
                <a href="#admin" class="nav-link" id="navAdmin" style="display:none; color:#ff3333; justify-content:space-between; align-items:center;">
                    <div style="display:flex; align-items:center">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path></svg>
                        <span>ÁÆ°ÁêÜÂêéÂè∞</span>
                    </div>
                    <span id="adminFeedbackBadge" class="notify-badge" style="display:none; background-color: gold; color: black;">0</span>
                </a>
            </nav>

            <div class="vip-sidebar-box" id="vipBox">
                <h4>VIP ACCESS</h4>
                <p>Ëß£ÈîÅÁªèÈ™åÂä†Êàê</p>
                <button onclick="buyVip()" class="vip-mini-btn">UPGRADE</button>
            </div>

            <div class="status-panel">
                <div class="status-item">
                    <span>i Â∏Å</span>
                    <span class="value blue" id="coinCount">-</span>
                </div>
            </div>
        </aside>

        <!-- ‰∏ªÂÜÖÂÆπÂå∫ -->
        <main class="content">
            <header>
                <div class="breadcrumbs" id="breadcrumbs">SYSTEM // HOME</div>
                <div class="date-display" id="clock">00:00:00</div>
            </header>

            <div id="view-container">
                <!-- 1. È¶ñÈ°µ -->
                <div id="view-home" class="view-section active">
                    <div class="hero-section">
                        <h1>DATA STREAM</h1>
                        <p>ËøôÈáåÊòØ 1eak ÁöÑÊï∞Â≠óÊÄùÁª¥Á©∫Èó¥„ÄÇ</p>
                    </div>
                    <!-- ÊêúÁ¥¢‰∏éÊéíÂ∫èÂ∑•ÂÖ∑Ê†è -->
                    <div class="toolbar" style="margin-bottom: 20px; display: flex; gap: 10px; flex-wrap: wrap;">
                        <input type="text" id="searchInput" class="cyber-input" placeholder="ÊêúÁ¥¢ÂÖ≥ÈîÆËØç..." style="flex: 2; margin: 0;">
                        <select id="sortSelect" class="cyber-input" style="flex: 1; margin: 0; min-width: 120px; color: var(--accent-blue);">
                            <option value="latest">ÊúÄÊñ∞</option>
                            <option value="hot">ÁÉ≠Â∫¶</option>
                            <option value="comments">ÁÉ≠ËÆÆ</option>
                        </select>
                        <button onclick="searchPosts()" class="cyber-btn" style="width: auto; margin: 0;">GO</button>
                    </div>
                    <div id="posts-list" class="posts-grid"></div>
                    <button id="loadMoreBtn" class="cyber-btn" onclick="loadPosts(false)" style="display:none; margin: 20px auto; max-width: 300px;">Âä†ËΩΩÊõ¥Â§ö</button>
                </div>

                <!-- ËµõÂçöÈÖíÈ¶ÜËßÜÂõæ -->
                <div id="view-pub" class="view-section" style="display:none; height: calc(100vh - 100px); display:flex; flex-direction:column;">
                    <!-- È°∂ÈÉ®Áä∂ÊÄÅÊ†è -->
                    <div class="pub-header glass-card">
                        <div style="display:flex; justify-content:space-between; align-items:center;">
                            <div>
                                <h2 style="margin:0; color:#ff00de; text-shadow:0 0 10px #ff00de;">üç∏ NIGHT CITY PUB</h2>
                                <div style="font-size:0.7rem; color:#888;">Âú®Á∫øÈÖíÂÆ¢: <span id="pubOnlineCount" style="color:#fff">0</span></div>
                            </div>
                            
                            <!-- Âà†Èô§‰∫ÜÂéüÊú¨ËøôÈáåÁöÑ pub-music-box -->
                            
                            <!-- Âø´Êç∑Êìç‰ΩúÂå∫ -->
                            <div style="display:flex; gap:10px;">
                                <button onclick="sendPubAction('slots')" class="cyber-btn" style="width:auto; margin:0; border-color:#bd00ff; color:#bd00ff; font-size:0.8rem; padding: 5px 10px;">
                                    üé∞ ËÄÅËôéÊú∫(20)
                                </button>
                                <button onclick="sendPubAction('bang')" class="cyber-btn" style="width:auto; margin:0; border-color:#ff3333; color:#ff3333; font-size:0.8rem; padding: 5px 10px;">
                                    üî´ Â∑¶ËΩÆ
                                </button>
                                <!-- ÂéüÊúâÁöÑÊåâÈíÆ -->
                                <button onclick="sendPubAction('treat')" class="cyber-btn" style="width:auto; margin:0; border-color:#ffd700; color:#ffd700; font-size:0.8rem; padding: 5px 10px;">
                                    üç∫ ËØ∑ÂÆ¢
                                </button>
                                <button onclick="sendPubAction('roll')" class="cyber-btn" style="width:auto; margin:0; border-color:#fff; color:#fff; font-size:0.8rem; padding: 5px 10px;">
                                    üé≤ È™∞Â≠ê
                                </button>
                            </div>
                        </div>
                    </div>
                
                    <!-- ËÅäÂ§©ËÆ∞ÂΩïÂå∫ -->
                    <div id="pubChatList" class="pub-chat-area">
                        <!-- Âä®ÊÄÅÂä†ËΩΩ -->
                        <div style="text-align:center; color:#666; margin-top:20px;">ËøûÊé•Âä†ÂØÜÈ¢ëÊÆµ...</div>
                    </div>
                
                    <!-- Â∫ïÈÉ®ËæìÂÖ•Ê°Ü -->
                    <div class="pub-input-area glass-card">
                        <input type="text" id="pubInput" class="cyber-input" placeholder="ËæìÂÖ•Ê∂àÊÅØ (Èôê300Â≠ó)..." maxlength="300" style="margin:0; flex:1;">
                        <button onclick="sendPubMsg()" class="cyber-btn" style="width:auto; margin:0; padding:0 20px;">ÂèëÈÄÅ</button>
                    </div>
                </div>

                <!-- N.O.D.E Êë∏Èáë / Âπ∏ËøêËΩÆÁõò -->
                <div id="view-node" class="view-section" style="display:none;">
                    <div class="node-container">
                        <!-- È°∂ÈÉ®ÔºöÂπ∏ËøêËΩÆÁõòÂÖ•Âè£ -->
                        <div style="text-align:right; margin-bottom:10px;">
                            <button onclick="openRouletteModal()" class="cyber-btn" style="width:auto; border-color:#bc13fe; color:#bc13fe;">
                                üé∞ Âπ∏ËøêËΩÆÁõò / ROULETTE
                            </button>
                        </div>
                
                        <!-- Êë∏Èáë‰∏ªÂå∫Âüü -->
                        <div class="loot-scanner-box">
                            <!-- Êâ´ÊèèÂä®ÁîªÂúà -->
                            <div class="scanner-visual">
                                <div class="scan-circle" id="scanCircle"></div>
                                <div class="scan-text" id="scanText">STANDBY</div>
                                <div class="scan-item-display" id="scanResult" style="display:none;">
                                    <div id="scanItemName">???</div>
                                    <div id="scanItemGrid" class="grid-visual"></div>
                                    <div id="scanItemValue">0 i</div>
                                </div>
                            </div>
                
                            <!-- ‰∏â‰∏™Á≠âÁ∫ßÂÖ•Âè£ -->
                            <div class="loot-controls">
                                <div class="loot-tier basic" onclick="startLoot('basic')">
                                    <h3>ÂàùÁ∫ßÂú∫</h3>
                                    <p>Ëä±Ë¥π: 10 i</p>
                                    <div class="tier-tag">‰ΩéÈ£éÈô©</div>
                                </div>
                                <div class="loot-tier mid" onclick="startLoot('mid')">
                                    <h3>‰∏≠Á∫ßÂú∫</h3>
                                    <p>Ëä±Ë¥π: 50 i</p>
                                    <div class="tier-tag">75% ËÉúÁéá</div>
                                </div>
                                <div class="loot-tier adv" onclick="startLoot('adv')">
                                    <h3>È´òÁ∫ßÂú∫</h3>
                                    <p>Ëä±Ë¥π: 150 i</p>
                                    <div class="tier-tag danger">È´òÈ£éÈô©ÂçöÂºà</div>
                                </div>
                            </div>
                            
                            <div style="margin-top:15px; font-size:0.8rem; color:#666; text-align:center;">
                                * Êâ´ÊèèÊó∂Èó¥Ë∂äÈïøÔºåÁâ©ÂìÅË∂äÁ®ÄÊúâ„ÄÇ<br>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- ËΩÆÁõòÂºπÁ™ó -->
                <div id="roulette-modal" class="modal-overlay" style="display:none;">
                    <div class="modal-card glass-card" style="text-align:center;">
                        <h3 style="color:#bc13fe;">LUCKY ROULETTE</h3>
                        <div class="roulette-wheel" id="rouletteWheel">
                            <div class="wheel-pointer">‚ñº</div>
                            <div class="wheel-text" id="wheelResult">-</div>
                        </div>
                        
                        <div style="margin:20px 0;">
                            <label>‰∏ãÊ≥®ÈáëÈ¢ù:</label>
                            <div style="display:flex; gap:10px; justify-content:center; margin-top:5px;">
                                <button onclick="setRouletteBet(10)" class="cyber-btn mini">10</button>
                                <button onclick="setRouletteBet(100)" class="cyber-btn mini">100</button>
                                <button onclick="setRouletteBet(500)" class="cyber-btn mini">500</button>
                            </div>
                            <input type="number" id="rouletteInput" class="cyber-input" placeholder="Ëá™ÂÆö‰πâÈáëÈ¢ù" style="margin-top:10px; text-align:center;">
                        </div>
                        
                        <div style="display:flex; gap:10px;">
                            <button onclick="closeRouletteModal()" class="cyber-btn" style="border-color:#666; color:#888;">Á¶ªÂºÄ</button>
                            <button onclick="spinRoulette()" class="cyber-btn" style="border-color:#bc13fe; color:#bc13fe;">SPIN!</button>
                        </div>
                    </div>
                </div>

                <!-- Êï∞ÊçÆÊ†ºÊñóÂú∫ËßÜÂõæ -->
                <div id="view-duel" class="view-section" style="display:none;">
                    <div class="duel-wrapper">
                        <div class="duel-header">
                            <h2>DATA DUEL ARENA // Êï∞ÊçÆÊ†ºÊñó</h2>
                            <div style="font-size:0.8rem; color:#666;">WARNING: È´òÈ£éÈô©Êï∞ÊçÆ‰∫§Êç¢Âå∫ (TAX: 1%)</div>
                        </div>
                
                        <!-- È°∂ÈÉ®Êìç‰ΩúÂå∫ (Triangle UI) -->
                        <div class="duel-controls glass-card">
                            <div style="display:flex; align-items:center; justify-content:center;">
                                <!-- ÈáëÈ¢ùËæìÂÖ• -->
                                <div style="display:flex; flex-direction:column; align-items:center;">
                                    <label style="font-size:0.7rem; color:#666; margin-bottom:5px;">STAKE // ËµåÊ≥®</label>
                                    <input type="number" id="duelBetAmount" class="cyber-input" placeholder="10 - 1000" style="width:100px; margin:0; text-align:center;">
                                </div>
                
                                <!-- ‰∏âËßíÂΩ¢ÈÄâÊã©Âô® -->
                                <div class="rps-triangle-container" id="rpsTriangle">
                                    <div class="rps-triangle-bg"></div> <!-- Ë£ÖÈ•∞ËÉåÊôØ -->
                                    <!-- ‰ª•Âêé‰Ω†ÂèØ‰ª•Êää innerHTML Êç¢Êàê <img src="..."> -->
                                    <div class="rps-btn" data-val="blade" onclick="selectRps('blade')"></div>
                                    <div class="rps-btn active" data-val="cube" onclick="selectRps('cube')"></div>
                                    <div class="rps-btn" data-val="membrane" onclick="selectRps('membrane')"></div>
                                </div>
                                <!-- ÈöêËóèÁöÑ Input Áî®‰∫éÂ≠òÂÄº -->
                                <input type="hidden" id="duelMyMove" value="cube">
                
                                <!-- ÂèëËµ∑ÊåâÈíÆ -->
                                <button onclick="createDuel()" class="cyber-btn" style="width:auto; height:50px; margin:0; border-color:#ff3333; color:#ff3333; padding:0 20px;">
                                    INITIATE<br><span style="font-size:0.7rem">ÂèëËµ∑ÊåëÊàò</span>
                                </button>
                            </div>
                        </div>
                
                        <!-- Êñ∞Â¢ûÔºöÂàáÊç¢Ê†áÁ≠æ -->
                        <div style="display:flex; justify-content:center; gap:30px; margin:20px 0; font-size:0.9rem; color:#666;">
                            <span id="duelTabLobby" class="duel-tab-btn active" onclick="switchDuelTab('lobby')">Â§ßÂéÖÊÇ¨Ëµè</span>
                            <span id="duelTabHistory" class="duel-tab-btn" onclick="switchDuelTab('history')">ÊàëÁöÑÊàòÁª© (ÂõûÊîæ)</span>
                        </div>
                
                        <!-- ÂØπÂ±ÄÂàóË°® -->
                        <div class="duel-list-header">
                            <span>INFO</span>
                            <span>RESULT</span>
                            <span style="text-align:right">ACTION</span>
                        </div>
                        <div id="duelList" class="duel-list-container">
                            <!-- Âä®ÊÄÅÁîüÊàê -->
                        </div>
                    </div>
                </div>

                <!-- 2. ÂèëÂ∏ñ -->
                <div id="view-write" class="view-section" style="display:none;">
                    <div style="display:flex; justify-content:space-between; align-items:center;">
                        <h2>// CREATE PROJECT</h2>
                        <span id="draftStatus" style="font-size:0.7rem; color:#666; font-style:italic;"></span>
                    </div>
                    <form id="postForm">
                        <select id="postCategory" class="cyber-input" style="margin-bottom:15px; color:var(--accent-blue);">
                            <option value="ÁÅåÊ∞¥">üåä ÁÅåÊ∞¥</option>
                            <option value="ÊëÑÂΩ±">üì∑ ÊëÑÂΩ±</option>
                            <option value="ÊäÄÊúØ">üíª ÊäÄÊúØ</option>
                            <option value="ÁîüÊ¥ª">‚òï ÁîüÊ¥ª</option>
                            <option value="ÊèêÈóÆ">‚ùì ÊèêÈóÆQ&A</option>
                        </select>
                        <input type="text" id="postTitle" class="cyber-input full-width" placeholder="Ê†áÈ¢ò">
                        <div style="margin-bottom: 10px; display: flex; gap: 10px; align-items: center;">
                            <!-- ‰øÆÊîπ accept Â±ûÊÄßÔºåÂ¢ûÂä† video/* -->
                            <!-- Ê∑ªÂä† multiple Â±ûÊÄß‰ª•ÊîØÊåÅÊâπÈáèÈÄâÊã© -->
                            <input type="file" id="imageUploadInput" accept="image/*,video/*" multiple style="display: none;" onchange="uploadImage()">
                            <button type="button" class="cyber-btn" style="width: auto; padding: 5px 15px; font-size: 0.8rem;" onclick="document.getElementById('imageUploadInput').click()">
                                üì∑ ÊèíÂÖ•ÂõæÁâá
                            </button>
                            <span id="uploadStatus" style="font-size: 0.8rem; color: #666;"></span>
                        </div>
                        <textarea id="postContent" class="cyber-textarea" placeholder="ÂÜÖÂÆπ"></textarea>
                        <button type="submit" class="cyber-btn big-btn">ÂèëÂ∏É</button>
                    </form>
                </div>
                
                <!-- 4. ÊñáÁ´†ËØ¶ÊÉÖ -->
                <div id="view-post" class="view-section" style="display:none;">
                    <button onclick="window.location.hash='#home'" class="back-btn">< BACK</button>
                    <article id="single-post-content" class="full-article"></article>
                    
                    <!-- ËØÑËÆ∫Âå∫ -->
                    <div class="comments-section">
                        <h3>// ËØÑËÆ∫ÁªàÁ´Ø</h3>
                        <div class="comment-input-box">
                            <textarea id="commentInput" class="cyber-textarea" placeholder="ËæìÂÖ•‰Ω†ÁöÑÁúãÊ≥ï... (ÊîØÊåÅ Markdown & ÂõæÁâá)" style="height:80px;"></textarea>
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 10px;">
                                <!-- ‰∏ä‰º†ÊåâÈíÆ -->
                                <div style="display: flex; align-items: center; gap: 10px;">
                                    <input type="file" id="commentImgUpload" accept="image/*,video/*" style="display: none;" onchange="uploadCommentImage()">
                                    <button class="cyber-btn" style="width: auto; padding: 5px 10px; font-size: 0.8rem; border-color: #666; color: #aaa;" onclick="document.getElementById('commentImgUpload').click()">
                                        üì∑ ÊèíÂÖ•Â™í‰Ωì
                                    </button>
                                    <span id="commentUploadStatus" style="font-size: 0.8rem; color: #666;"></span>
                                </div>
                                <!-- ÂèëÈÄÅÊåâÈíÆ -->
                                <button onclick="submitComment()" class="cyber-btn" style="width:auto; margin:0; border-color: var(--accent-blue); color: var(--accent-blue); font-weight: bold;">
                                    ÂèëÈÄÅËØÑËÆ∫üöÄ
                                </button>
                            </div>
                            
                        </div>
                        <div id="commentsList" class="comments-list"></div>
                    </div>
                </div>

                <!-- 5. Ê∂àÊÅØÈÄöÁü• -->
                <div id="view-notifications" class="view-section" style="display:none;">
                    <!-- È°∂ÈÉ®Êìç‰ΩúÊ†è (Â∑≤ÈÄÇÈÖçÁßªÂä®Á´Ø) -->
                    <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:20px; flex-wrap:wrap; gap:10px;">
                        <h2 style="margin:0;">// SYSTEM LOGS</h2>
                        <div style="display:flex; gap:10px; flex-shrink:0;">
                            <button onclick="clearAllNotifications()" class="cyber-btn danger" style="width:auto; margin:0; padding:5px 15px; font-size:0.8rem;">
                                üóëÔ∏è ÂÖ®ÈÉ®Âà†Èô§
                            </button>
                            <button onclick="markAllRead()" class="cyber-btn" style="width:auto; margin:0; padding:5px 15px; font-size:0.8rem;">
                                ‚úì ÂÖ®ÈÉ®Â∑≤ËØª
                            </button>
                        </div>
                    </div>
                    <div class="filter-bar" style="margin-bottom: 15px; display:flex; gap:10px; overflow-x:auto; padding-bottom:5px;">
                        <button class="cyber-btn filter-btn active" onclick="filterNotifications('all', this)">ÂÖ®ÈÉ®</button>
                        <button class="cyber-btn filter-btn" onclick="filterNotifications('system', this)">Á≥ªÁªü</button>
                        <button class="cyber-btn filter-btn" onclick="filterNotifications('reply', this)">ÂõûÂ§ç</button>
                        <button class="cyber-btn filter-btn" onclick="filterNotifications('comment', this)">ËØÑËÆ∫</button>
                        <button class="cyber-btn filter-btn" onclick="filterNotifications('tip', this)">ÊâìËµè</button>
                    </div>
                    <div id="notifyList" class="posts-grid"></div>
                </div>

                <!-- 6. Áî®Êà∑‰∏™‰∫∫‰∏ªÈ°µ (Êñ∞Â¢û) -->
                <div id="view-profile" class="view-section" style="display:none;">
                    <button onclick="window.history.back()" class="back-btn">< BACK</button>
    
                    <div class="user-profile-header glass-card" style="text-align: center; padding: 30px; border-top: 3px solid var(--accent-blue);">
                        <div id="profileAvatar" style="width: 80px; height: 80px; margin: 0 auto 15px; border: 2px solid #333; border-radius: 8px;"></div>
                        <h2 id="profileName" style="margin: 0; color: #fff;">LOADING</h2>
                        <div id="profileBadges" style="margin: 5px 0;"></div>
                        <p id="profileBio" style="color: #888; font-style: italic; font-size: 0.9rem; margin: 10px 0;">...</p>
        
                        <div class="profile-stats" style="display: flex; justify-content: center; gap: 20px; margin: 20px 0; font-family: 'JetBrains Mono';">
                            <div><div class="stat-num" id="statPosts">0</div><div class="stat-label" style="font-size:0.7rem; color:#666">Â∏ñÂ≠ê</div></div>
                            <div><div class="stat-num" id="statFollowers">0</div><div class="stat-label" style="font-size:0.7rem; color:#666">Á≤â‰∏ù</div></div>
                            <div><div class="stat-num" id="statFollowing">0</div><div class="stat-label" style="font-size:0.7rem; color:#666">ÂÖ≥Ê≥®</div></div>
                            <div><div class="stat-num" id="statLikes">0</div><div class="stat-label" style="font-size:0.7rem; color:#666">ÂñúÊ¨¢</div></div>
                        </div>

                        <div id="profileActions">
                        <!-- JS Âä®ÊÄÅÊèíÂÖ• ÂÖ≥Ê≥®/ÁßÅ‰ø° ÊåâÈíÆ -->
                        </div>
                    </div>

                    <h3 style="margin-top: 30px; border-bottom: 1px solid #333; padding-bottom: 10px;">// RECENT ACTIVITIES</h3>
                    <div id="profileRecentPosts" class="posts-grid"></div>
                </div>

                <!-- 7. ÊéíË°åÊ¶úËßÜÂõæ -->
                <div id="view-leaderboard" class="view-section" style="display:none;">
                    <h2>// HALL OF FAME</h2>
                    <div class="leaderboard-grid">
                        <!-- Âä®ÊÄÅÁîüÊàê -->
                        <div class="loading">Loading ranks...</div>
                    </div>
                </div>

                <!-- 8. ÂïÜÂüéËßÜÂõæ (ÈáçÊûÑÁâà) -->
                <div id="view-shop" class="view-section" style="display:none;">
                    <h2>// ITEM SHOP</h2>
    
                    <!-- ÊâæÂà∞ view-shop ‰∏≠ÁöÑ tabs ÂÆπÂô® -->
                    <div class="shop-tabs-container">
                        <button class="shop-tab-btn active" onclick="switchShopTab('all')">ÂÖ®ÈÉ®</button>
                        <button class="shop-tab-btn" onclick="switchShopTab('vip')">üíé ‰ºöÂëò</button>
                        <button class="shop-tab-btn" onclick="switchShopTab('decoration')">üé® Ë£ÖÈ•∞</button>
                        <button class="shop-tab-btn" onclick="switchShopTab('consumable')">üì¶ ÈÅìÂÖ∑</button>
                        <!-- Êñ∞Â¢ûÔºöÂÖÖÂÄºÂÖ•Âè£ -->
                        <button class="shop-tab-btn" onclick="switchShopTab('recharge')" style="color:#00ff00; border-color:#00ff00;">üíñ ËµûÂä©</button>
                    </div>
                    
                    <!-- ÂÖÖÂÄº/ËµûÂä©Âå∫Âüü (Êõ¥Êñ∞Áâà) -->
                    <div id="recharge-area" style="display:none; max-width:600px; margin:0 auto 20px; text-align:center;">
                        <div class="glass-card" style="border:1px solid #00ff00; padding:20px;">
                            <h3 style="color:#00ff00; margin-top:0;">‚ö° ËÉΩÈáèÊ≥®ÂÖ•ÂçèËÆÆ / SPONSOR</h3>
                            <p style="font-size:0.9rem; color:#ccc; line-height:1.6;">
                                ÊîØÊåÅÊú¨Á´ôÁáÉÁÉßÊúçÂä°Âô®ËÉΩÈáè„ÄÇ<br>
                                ‰Ωú‰∏∫ÊÑüË∞¢ÔºåÊÇ®Â∞ÜÊî∂Âà∞Á´ôÁÇπËµ†ÈÄÅÁöÑ <span style="color:gold">iÂ∏ÅÁ§ºÂåÖ</span>„ÄÇ
                            </p>
                    
                            <!-- 1. Ê°£‰ΩçÈÄâÊã© (IDÂ∑≤Ê†°ÂáÜ) -->
                            <div style="display:flex; justify-content:center; gap:15px; margin:20px 0;">
                                <!-- ÈªòËÆ§ÈÄâ‰∏≠ small -->
                                <div id="option-small" class="recharge-option active" onclick="selectRechargeOption('small')">
                                    <div style="font-size:1.2rem; color:#fff;">Ôø•0.10</div>
                                    <div style="font-size:0.8rem; color:#00ccff;">6500 iÂ∏Å</div>
                                </div>
                                <div id="option-large" class="recharge-option" onclick="selectRechargeOption('large')">
                                    <div style="font-size:1.2rem; color:#fff;">Ôø•0.60</div>
                                    <div style="font-size:0.8rem; color:#ffd700;">43000 iÂ∏Å</div>
                                </div>
                            </div>
                            <input type="hidden" id="selectedRechargeType" value="small">
                    
                            <!-- 2. ‰∫åÁª¥Á†ÅÂ±ïÁ§∫Âå∫ (ÂõæÁâáÊîæÂ§ß) -->
                            <div style="background:#fff; padding:10px; border-radius:8px; display:inline-block; margin-bottom:15px;">
                                <!-- ÈªòËÆ§ÊòæÁ§∫ 0.1 ÂÖÉÁöÑÁ†Å -->
                                <img id="qrImage" src="https://img.1eak.cool/wechat_pay_0.1.JPG" style="width:200px; height:200px; display:block; object-fit:contain;">
                            </div>
                            <p style="font-size:0.8rem; color:#888;">ËØ∑‰ΩøÁî®ÂæÆ‰ø°Êâ´Á†ÅÊîØ‰ªò <span id="payAmountDisplay" style="color:#00ff00; font-weight:bold;">0.10</span> ÂÖÉ</p>
                    
                            <!-- 3. ‰∏ä‰º†Êà™Âõæ -->
                            <div style="margin-top:20px; border-top:1px dashed #333; padding-top:20px;">
                                <p style="font-size:0.9rem; margin-bottom:10px;">‰∏ä‰º†ÊîØ‰ªòÊà™Âõæ (Proof of Transaction)</p>
                                
                                <div style="display:flex; gap:10px; justify-content:center;">
                                    <input type="file" id="proofUpload" accept="image/*" style="display:none;" onchange="uploadProof()">
                                    <button onclick="document.getElementById('proofUpload').click()" class="cyber-btn" style="width:auto; margin:0;">
                                        üì∑ ‰∏ä‰º†Êà™Âõæ
                                    </button>
                                    <button onclick="submitRechargeRequest()" class="cyber-btn" style="width:auto; margin:0; border-color:#00ff00; color:#00ff00;">
                                        üöÄ Êèê‰∫§ÂÆ°Ê†∏
                                    </button>
                                </div>
                                <div id="proofPreview" style="margin-top:10px; color:#00f3ff; font-size:0.8rem;"></div>
                                <input type="hidden" id="uploadedProofUrl">
                            </div>
                        </div>
                    </div>

                    <!-- ÂïÜÂìÅÂàóË°®ÂÆπÂô® -->
                    <div id="shop-list" class="shop-grid">
                        <!-- JS Âä®ÊÄÅÁîüÊàê -->
                    </div>
                </div>

                <!-- 9. ÁßÅ‰ø°‰∏éÂ•ΩÂèãËßÜÂõæ -->
                <div id="view-chat" class="view-section" style="display:none;">
                    <div class="chat-layout" style="display:flex; gap:20px; height:80vh;">
                        <!-- Â∑¶‰æßÔºöÂ•ΩÂèãÂàóË°®‰∏é‰ºöËØù -->
                        <div class="chat-sidebar glass-card" style="flex:1; display:flex; flex-direction:column; min-width:250px;">
                            <div style="padding:10px; border-bottom:1px solid #333; display:flex; gap:10px;">
                                <button class="cyber-btn" onclick="loadFriendList()" style="margin:0; font-size:0.8rem; flex:1;">Â•ΩÂèã</button>
                                <button class="cyber-btn" onclick="loadConversations()" style="margin:0; font-size:0.8rem; flex:1;">Ê∂àÊÅØ</button>
                            </div>
                            <div id="chatList" style="flex:1; overflow-y:auto; padding:10px;">Loading...</div>
                        </div>

                        <!-- Âè≥‰æßÔºöËÅäÂ§©Ê°Ü (ÈªòËÆ§ÈöêËóèÔºåÁÇπÂáª‰ºöËØùÂêéÊòæÁ§∫) -->
                        <div id="chatBox" class="chat-main glass-card" style="flex:2; display:none; flex-direction:column;">
                            <div class="chat-header" style="padding:15px; border-bottom:1px solid #333; font-weight:bold;">
                                <span id="chatTargetName">User</span>
                                <button onclick="closeChatBox()" class="mini-action-btn" style="float:right;">ÂÖ≥Èó≠</button>
                            </div>
                            <div id="chatMessages" style="flex:1; overflow-y:auto; padding:15px; display:flex; flex-direction:column; gap:10px;"></div>
                            <div class="chat-input-area" style="padding:10px; border-top:1px solid #333; display:flex; gap:10px;">
                                <input type="text" id="chatInput" class="cyber-input" placeholder="ÂèëÈÄÅÁßÅ‰ø°..." style="margin:0;">
                                <button onclick="sendPrivateMessage()" class="cyber-btn" style="width:auto; margin:0;">SEND</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 10. ‰∏™‰∫∫ËÉåÂåÖËßÜÂõæ (‰ºòÂåñÁâàÔºöÂ∏¶ÂàÜÁ±ª) -->
                <div id="view-inventory" class="view-section" style="display:none;">
                    <h2>// MY INVENTORY</h2>

                    <!-- Êñ∞Â¢ûÔºöËÉåÂåÖÂàÜÁ±ªÂØºËà™ -->
                    <div class="shop-tabs-container">
                        <button class="inv-tab-btn active" onclick="switchInventoryTab('all')">ÂÖ®ÈÉ®</button>
                        <button class="inv-tab-btn" onclick="switchInventoryTab('loot')" style="color:#ffd700; border-color:#ffd700;">üèÜ ÊàòÂà©ÂìÅ</button>
                        <button class="inv-tab-btn" onclick="switchInventoryTab('background')">üåå ËÉåÊôØ</button>
                        <button class="inv-tab-btn" onclick="switchInventoryTab('post_style')">üñºÔ∏è ËæπÊ°Ü</button>
                        <button class="inv-tab-btn" onclick="switchInventoryTab('bubble')">üí¨ Ê∞îÊ≥°</button>
                        <button class="inv-tab-btn" onclick="switchInventoryTab('name_color')">üåà ÊòµÁß∞</button>
                        <button class="inv-tab-btn" onclick="switchInventoryTab('consumable')">üì¶ Ê∂àËÄóÂìÅ</button>
                    </div>
                    <!-- ÊâπÈáèÊìç‰ΩúÊ†è (ÈªòËÆ§ÈöêËóèÔºåJSÊéßÂà∂ÊòæÁ§∫) -->
                    <div id="inventory-controls" style="display:none; margin-bottom:15px; text-align:right;">
                        <button onclick="openBulkSellModal()" class="cyber-btn" style="width:auto; border-color:#ff3333; color:#ff3333;">
                            üóëÔ∏è ÊâπÈáèÂá∫ÂîÆ / BULK SELL
                        </button>
                    </div>

                    <div id="inventoryList" class="shop-grid" style="display:grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap:15px;">
                        Loading...
                    </div>
                </div>

                <div id="view-settings" class="view-section" style="display:none;">
                    <h2>// PROFILE SETTINGS</h2>
    
                    <!-- Êñ∞Â¢ûÔºöÊ≥®ÂÜåË¥¶Âè∑ÊòæÁ§∫ -->
                    <div class="glass-card" style="margin-bottom:20px; border-color: #666;">
                        <h3>Ë¥¶Âè∑‰ø°ÊÅØ</h3>
                        <p style="color:#888; font-size:0.9rem;">ÊÇ®ÁöÑÂîØ‰∏ÄÁôªÂΩïÂá≠ËØÅ (‰∏çÂèØ‰øÆÊîπ)„ÄÇ</p>
                        <input type="text" id="settingUsername" class="cyber-input" readonly style="color:#888; cursor:not-allowed;">
                    </div>

                    <div class="glass-card">
                        <h3>‰øÆÊîπÊòµÁß∞</h3>
                        <p style="color:#666; font-size:0.9rem;">ÊòµÁß∞Â∞ÜÊòæÁ§∫Âú®ÊñáÁ´†‰ΩúËÄÖÊ†è„ÄÇ</p>
                        <input type="text" id="newNickname" class="cyber-input" placeholder="ËæìÂÖ•Êñ∞ÊòµÁß∞" maxlength="12">
                        <button onclick="updateProfile()" class="cyber-btn">‰øùÂ≠òÊõ¥Êîπ / SAVE</button>
                    </div>

                    <div class="glass-card" style="margin-top: 20px;">
                        <h3>‰∏™ÊÄßÁ≠æÂêç</h3>
                        <p style="color:#666; font-size:0.9rem;">‰∏ÄÂè•ËØù‰ªãÁªç‰Ω†Ëá™Â∑± (Èôê50Â≠ó)„ÄÇ</p>
                        <div style="display:flex; gap:10px; margin-top:10px;">
                            <input type="text" id="settingBio" class="cyber-input" placeholder="ËæìÂÖ•‰∏™ÊÄßÁ≠æÂêç..." maxlength="50" style="margin:0; flex:1;">
                            <button onclick="saveBio()" class="cyber-btn" style="margin:0; width:auto;">‰øùÂ≠ò</button>
                        </div>
                    </div>

                    <!-- 3. ‰æßËæπÊ†èÊéíÂ∫èËÆæÁΩÆ -->
                    <div class="glass-card" style="margin-top: 20px; border-color: #00f3ff;">
                        <h3>ÂØºËà™ËèúÂçïÊéíÂ∫è</h3>
                        <p style="color:#666; font-size:0.9rem;">ÁÇπÂáªÁÆ≠Â§¥Ë∞ÉÊï¥‰æßËæπÊ†èËèúÂçïÈ°∫Â∫è„ÄÇ</p>
                        <div id="navSortList" style="margin-top:10px;">
                            <!-- JS Âä®ÊÄÅÁîüÊàê -->
                        </div>
                        <button onclick="resetNavOrder()" class="mini-action-btn" style="margin-top:10px; border-color:#f33; color:#f33;">ÈáçÁΩÆÈªòËÆ§È°∫Â∫è</button>
                    </div>

                    <!-- Êñ∞Â¢ûÔºöËá™ÂÆö‰πâÂ§¥ÂÉè‰∏ä‰º† -->
                    <div class="glass-card" style="margin-top: 20px;">
                        <h3>Ëá™ÂÆö‰πâÂ§¥ÂÉè / CUSTOM AVATAR</h3>
                        <p style="color:#666; font-size:0.9rem;">‰∏ä‰º†‰∏ÄÂº†ÂõæÁâá‰Ωú‰∏∫‰Ω†ÁöÑÂ§¥ÂÉè (Âª∫ËÆÆÊ≠£ÊñπÂΩ¢)„ÄÇ</p>
                        <div style="display:flex; align-items:center; gap:15px; margin-top:10px;">
                            <!-- È¢ÑËßàÂå∫Âüü -->
                            <div id="settingCustomAvatarPreview" style="width:60px; height:60px; border-radius:8px; overflow:hidden; border:1px solid #333; background:#000;">
                                <!-- ÈªòËÆ§Á©∫Âç†‰Ωç -->
                            </div>
        
                            <label class="cyber-btn" style="margin:0; flex:1; text-align:center; cursor:pointer;">
                                üì§ ‰∏ä‰º†ÂõæÁâá
                                <input type="file" id="avatarUploadInput" accept="image/*" style="display:none;" onchange="uploadUserAvatar()">
                            </label>
                        </div>
                    </div>
                    
                    <!-- ... (ÂÖ∂‰ΩôÈÉ®ÂàÜ‰øùÊåÅ‰∏çÂèò: Êï∞Â≠óÂΩ¢Ë±°, Â§¥Ë°îÂÅèÂ•Ω, ÂØÜÈí•) ... -->
                    <div class="glass-card" style="margin-top: 20px;">
                        <h3>Êï∞Â≠óÂΩ¢Ë±°ÈáçÊûÑ</h3>
                        <p style="color:#666; font-size:0.9rem;">Â¶ÇÊûú‰∏çÊª°ÊÑèÂΩìÂâçÁöÑÂÉèÁ¥†ÈÖçËâ≤ÔºåÂèØ‰ª•ÈöèÊú∫ÈáçÁΩÆ„ÄÇ</p>
                        <div style="display:flex; align-items:center; gap:15px; margin-top:10px;">
                            <div id="settingAvatarPreview" style="width:50px; height:50px; border:1px solid #333;"></div>
                            <button onclick="randomizeAvatar()" class="cyber-btn" style="margin:0; flex:1;">üé≤ ÈöèÊú∫ÈáçÁΩÆÂ§¥ÂÉè</button>
                        </div>
                    </div>
                    <div class="glass-card" style="margin-top: 20px;">
                        <h3>Â§¥Ë°îÊòæÁ§∫ÂÅèÂ•Ω</h3>
                        <p style="color:#666; font-size:0.9rem;">ÈÄâÊã©Âú®ÂêçÂ≠óÊóÅËæπÊòæÁ§∫Á≠âÁ∫ßÊï∞Â≠óËøòÊòØ‰∏ìÂ±ûÁß∞Âè∑„ÄÇ</p>
                        <div style="display:flex; gap:10px; margin-top:10px;">
                            <select id="badgePreferenceSelect" class="cyber-input" style="margin:0; flex:1;">
                                <option value="number">ÊòæÁ§∫Á≠âÁ∫ßÊï∞Â≠ó (LV.X)</option>
                                <option value="title">ÊòæÁ§∫Á≠âÁ∫ßÁß∞Âè∑ (e.g. ËµõÂçöÁ•û)</option>
                            </select>
                            <button onclick="saveBadgePreference()" class="cyber-btn" style="margin:0; width:auto;">‰øùÂ≠ò</button>
                        </div>
                    </div>
                    <div class="glass-card" style="margin-top: 20px; border-color: var(--accent-blue);">
                        <h3>Ë¥¶Êà∑ÂÆâÂÖ®ÂØÜÈí• (RECOVERY KEY)</h3>
                        <p style="color:#666; font-size:0.9rem;">ËøôÊòØÊÇ®ÊâæÂõûÂØÜÁ†ÅÁöÑÂîØ‰∏ÄÂá≠ËØÅÔºåËØ∑ÂãøÊ≥ÑÈú≤„ÄÇ</p>
                        <div style="display:flex; gap:10px; margin-top:10px;">
                            <input type="text" id="recoveryKeyDisplay" class="cyber-input" readonly style="margin:0; color:var(--accent-blue); letter-spacing:1px;" value="LOADING...">
                            <button onclick="copyRecoveryKey()" class="cyber-btn" style="width:auto; margin:0; white-space:nowrap;">Â§çÂà∂</button>
                        </div>
                    </div>

                    <!-- Êñ∞Â¢ûÔºöÈªëÂêçÂçïÁÆ°ÁêÜ -->
                    <div class="glass-card" style="margin-top: 20px; border-color: #ff3333;">
                        <div style="display:flex; justify-content:space-between; align-items:center;">
                            <h3 style="color:#ff3333; margin:0;">ÈªëÂêçÂçïÁÆ°ÁêÜ / BLOCK LIST</h3>
                            <button onclick="loadBlockedUsers()" class="mini-action-btn">Âà∑Êñ∞</button>
                        </div>
                        <p style="color:#666; font-size:0.9rem;">Ë¢´ÊãâÈªëÁöÑÁî®Êà∑Êó†Ê≥ïÂêëÊÇ®ÂèëÈÄÅÁßÅ‰ø°ÊàñËØÑËÆ∫„ÄÇ</p>
    
                        <div id="blockedListContainer" style="margin-top:10px; max-height:200px; overflow-y:auto;">
                            <!-- JS Âä®ÊÄÅÂä†ËΩΩ -->
                            <div style="text-align:center; color:#666; padding:10px;">Loading...</div>
                        </div>
                    </div>
                    
                </div>

                <div id="view-about" class="view-section" style="display:none;">
                    <div class="node-header">
                        <h2>// SYSTEM PROTOCOLS (ÁîüÂ≠òÊâãÂÜå)</h2>
                        <div class="node-status" style="border-color:#fff; color:#fff;">VER: 4.5.0</div>
                    </div>

                    <!-- 1. Á≠âÁ∫ß‰ΩìÁ≥ª -->
                    <div class="glass-card" style="margin-bottom: 20px;">
                        <h3>üß¨ ÊùÉÈôêÁ≠âÁ∫ß (Clearance Level)</h3>
                        <p style="font-size:0.8rem; color:#888;">ÈÄöËøáÁ≠æÂà∞„ÄÅÂèëÂ∏ñ„ÄÅËØÑËÆ∫ÁßØÁ¥ØÁªèÈ™åÂÄº (XP)„ÄÇ</p>
                        <div class="table-responsive">
                            <table class="tech-table">
                                <thead><tr><th>LV</th><th>Áß∞Âè∑ (TITLE)</th><th>ÊâÄÈúÄÁªèÈ™å (XP)</th></tr></thead>
                                <tbody id="levelTableBody">
                                    <!-- JS Âä®ÊÄÅÁîüÊàêÔºåÊ≠§Â§Ñ‰øùÊåÅÁ©∫Êàñ‰øùÁïôÂéüÊúâ JS ÈÄªËæë -->
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div style="margin-top: 40px; text-align: center; color: #666; font-size: 0.7rem;">
                        SYSTEM KERNEL V4.5.0 // END OF FILE
                    </div>
                </div>   

                <div id="view-feedback" class="view-section" style="display:none;">
                    <h2>// FEEDBACK CENTER</h2>
                    <p>ÂèëÁé∞ Bug ÊàñÊúâÂª∫ËÆÆÔºüËØ∑ÂëäËØâÁÆ°ÁêÜÂëò„ÄÇÊØèÂêçÁî®Êà∑ÊØèÊó•ÂèØÂèçÈ¶àÊ¨°Êï∞ÊúâÈôê„ÄÇ</p>
                    <div class="glass-card">
                        <textarea id="feedbackContent" class="cyber-textarea" placeholder="ËØ∑ËØ¶ÁªÜÊèèËø∞ÊÇ®ÁöÑÈóÆÈ¢òÊàñÂª∫ËÆÆ..." style="height:150px;"></textarea>
                        <button onclick="submitFeedback()" class="cyber-btn">Êèê‰∫§ÂèçÈ¶à</button>
                    </div>
                </div>
   
                

                <div id="view-admin" class="view-section" style="display:none;">
                    <h2 style="color:#ff3333">// ADMIN CONSOLE (TOP SECRET)</h2>

                    <!-- 1. ÁªüËÆ°Êï∞ÊçÆ -->
                    <div class="stats-row" style="display:flex; gap:20px; margin-bottom:20px;">
                        <div class="glass-card" style="flex:1; text-align:center; border-color:#0070f3;">
                            <div style="font-size:0.8rem; color:#888;">TOTAL USERS</div>
                            <div id="statTotalUsers" style="font-size:2rem; font-weight:bold; color:#fff;">-</div>
                        </div>
                        <div class="glass-card" style="flex:1; text-align:center; border-color:#00ff00;">
                            <div style="font-size:0.8rem; color:#888;">ACTIVE (24H)</div>
                            <div id="statActiveUsers" style="font-size:2rem; font-weight:bold; color:#00ff00;">-</div>
                        </div>
                    </div>

                    <!-- 2. Á´ôÁÇπËÆæÁΩÆ -->
                    <div class="glass-card" style="margin-bottom:20px;">
                        <h3>SYSTEM CONTROL</h3>
                        <div style="display:flex; justify-content:space-between; align-items:center;">
                            <span>‚ö†Ô∏è ÂºÄÂêØÊ≥®ÂÜåÈÇÄËØ∑Á†ÅÈ™åËØÅ</span>
                            <label class="toggle-switch">
                                <input type="checkbox" id="inviteToggle" onchange="toggleInviteSystem()">
                                <span class="slider round"></span>
                            </label>
                        </div>
                        <p style="font-size:0.8rem; color:#666; margin-top:5px;">ÂÖ≥Èó≠ÂêéÔºåÁî®Êà∑Ê≥®ÂÜåÊó†ÈúÄÈÇÄËØ∑Á†Å„ÄÇ</p>
                        <!-- Âú® admin ËßÜÂõæÁöÑ SYSTEM CONTROL Âç°ÁâáÈáåÊ∑ªÂä† -->
                        <div style="display:flex; justify-content:space-between; align-items:center; margin-top:10px; border-top:1px dashed #333; padding-top:10px;">
                            <span>üõ°Ô∏è ÁôªÂΩïÈ°µ Turnstile ‰∫∫Êú∫È™åËØÅ</span>
                            <label class="toggle-switch">
                                <input type="checkbox" id="turnstileToggle" onchange="toggleTurnstile()">
                                <span class="slider round"></span>
                            </label>
                        </div>
                    </div>

                    <!-- 3. ÈÇÄËØ∑Á†ÅÁÆ°ÁêÜ (ÈáçÊûÑ) -->
                    <div class="glass-card" style="border-color:#00ff00; margin-bottom:20px;">
                        <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:10px;">
                            <h3>ÈÇÄËØ∑Á†ÅÊ±†</h3>
                            <button onclick="refillInvites()" class="cyber-btn" style="width:auto; margin:0; font-size:0.8rem; border-color:#00ff00; color:#00ff00;">
                                Ë°•Êª°10‰∏™
                            </button>
                        </div>
                        <div class="table-responsive">
                            <table class="tech-table" id="adminInviteTable">
                                <thead><tr><th>CODE</th><th>STATUS</th><th>EXPIRE</th><th>ACTION</th></tr></thead>
                                <tbody></tbody>
                            </table>
                        </div>
                    </div>

                    <!-- 4. ÂèçÈ¶àÁÆ°ÁêÜ (Êñ∞Â¢û) -->
                    <div class="glass-card" style="border-color:#ffff00; margin-bottom:20px;">
                        <h3>Áî®Êà∑ÂèçÈ¶à</h3>
                        <div class="table-responsive">
                            <table class="tech-table" id="adminFeedbackTable">
                                <thead><tr><th>USER</th><th>CONTENT</th><th>TIME</th></tr></thead>
                                <tbody></tbody>
                            </table>
                        </div>
                    </div>

                    <div class="glass-card" style="border-color:#00ff00; margin-top:20px;">
                        <h3>‚ö° ÂÖÖÂÄºÂÆ°Ê†∏</h3>
                        <button onclick="loadRechargeRequests()" class="mini-action-btn">Âà∑Êñ∞ÂàóË°®</button>
                        <div id="adminRechargeList" style="margin-top:10px;">Loading...</div>
                    </div>

                    <!-- Êñ∞Â¢ûÂ∞ÅÁ¶ÅÂàóË°®ÂäüËÉΩ -->
                    <div class="glass-card" style="border-color:#f33; margin-bottom:20px;">
                        <h3>Â∞ÅÁ¶ÅÂêçÂçï</h3>
                        <div class="table-responsive">
                            <table class="tech-table" id="adminBanTable">
                                <thead><tr><th>USER</th><th>REASON</th><th>EXPIRE</th><th>ACTION</th></tr></thead>
                                <tbody></tbody>
                            </table>
                        </div>
                    </div>

                    <div class="glass-card" style="border-color:#bd00ff; margin-top:20px;">
                        <h3>üì¢ Êí≠Êä•ÂÆ°Ê†∏</h3>
                        <div id="adminBroadcastList">Loading...</div>
                    </div>

                    <div class="glass-card" style="border-color: gold; margin-top: 20px;">
                        <h3>üí∞ ËµÑÈáëË∞ÉËäÇ</h3>
                        <p style="font-size:0.8rem; color:#888;">Áî®‰∫éÂèëÊîæË°•ÂÅø„ÄÅÊ¥ªÂä®Â•ñÂä±ÊàñÊÉ©ÁΩöÊâ£Ê¨æ„ÄÇ</p>
                        <div style="display:flex; gap:10px; flex-wrap:wrap;">
                            <input type="text" id="adminBalanceUser" class="cyber-input" placeholder="Áî®Êà∑Âêç" style="flex:1; margin:0;">
                            <input type="number" id="adminBalanceAmount" class="cyber-input" placeholder="ÈáëÈ¢ù (+/-)" style="width:100px; margin:0;">
                            <input type="text" id="adminBalanceReason" class="cyber-input" placeholder="ÂèòÂä®ÁêÜÁî± (ÂøÖÂ°´)" style="flex:2; margin:0;">
                            <button onclick="adminManageBalance()" class="cyber-btn" style="width:auto; margin:0; border-color:gold; color:gold;">EXECUTE</button>
                        </div>
                    </div>

                    <!-- ÁÆ°ÁêÜÂêéÂè∞Êñ∞Â¢ûÔºöÁî®Êà∑ÊêúÁ¥¢Âç°Áâá -->
                    <div class="glass-card" style="border-color: #00ccff; margin-top: 20px;">
                        <h3>üîç Áî®Êà∑ÊêúÁ¥¢ / USER SEARCH</h3>
                        <p style="font-size:0.8rem; color:#888;">ËæìÂÖ•ÊòµÁß∞ÊàñË¥¶Âè∑ÔºåÊü•ËØ¢Áî®Êà∑ÁöÑÁúüÂÆû Username ÂíåÁä∂ÊÄÅ„ÄÇ</p>
    
                        <div style="display:flex; gap:10px; margin-bottom:10px;">
                            <input type="text" id="adminSearchInput" class="cyber-input" placeholder="ËæìÂÖ•ÊòµÁß∞ / Ë¥¶Âè∑..." style="margin:0; flex:1;">
                            <button onclick="adminSearchUsers()" class="cyber-btn" style="width:auto; margin:0; border-color:#00ccff; color:#00ccff;">SEARCH</button>
                        </div>

                        <!-- ÊêúÁ¥¢ÁªìÊûúË°®Ê†º -->
                        <div class="table-responsive">
                            <table class="tech-table" id="adminUserTable">
                                <thead>
                                    <tr>
                                        <th>ID</th>
                                        <th>USERNAME (Ë¥¶Âè∑)</th>
                                        <th>NICKNAME (ÊòµÁß∞)</th>
                                        <th>‰ΩôÈ¢ù</th>
                                        <th>Êìç‰Ωú</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr><td colspan="5" style="text-align:center; color:#666;">Á≠âÂæÖÊü•ËØ¢...</td></tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <!-- ÂÖ®ÊúçÁ¶èÂà©Âç°Áâá -->
                    <div class="glass-card" style="border-color: #ff00de; margin-top: 20px; background: rgba(255, 0, 222, 0.05);">
                        <h3 style="color: #ff00de;">üéÅ ÂÖ®ÊúçÁ¶èÂà©ÂèëÊîæ</h3>
                        <p style="font-size:0.8rem; color:#888;">Âêë <strong>ÊâÄÊúâÊ≥®ÂÜåÁî®Êà∑</strong> (Âê´Â∞ÅÁ¶Å‰∏≠) ÂèëÊîæÂ•ñÂä±ÔºåÂπ∂ÂèëÈÄÅÈÄöÁü•„ÄÇ</p>
                        <div style="display:flex; gap:10px; flex-wrap:wrap; align-items: flex-end;">
                            <div style="flex:1;">
                                <label style="font-size:0.7rem; color:#ff00de;">ÁªèÈ™å (XP)</label>
                                <input type="number" id="welfareXp" class="cyber-input" placeholder="0" style="margin:0;">
                            </div>
                            <div style="flex:1;">
                                <label style="font-size:0.7rem; color:#0070f3;">i Â∏Å (Coins)</label>
                                <input type="number" id="welfareCoins" class="cyber-input" placeholder="0" style="margin:0;">
                            </div>
                            <div style="flex:2;">
                                <label style="font-size:0.7rem; color:#ccc;">ÂèëÊîæÁêÜÁî±</label>
                                <input type="text" id="welfareReason" class="cyber-input" placeholder="‰æãÂ¶ÇÔºö‰∏≠ÁßãËäÇÂø´‰πê / ÂÅúÊú∫Áª¥Êä§Ë°•ÂÅø" style="margin:0;">
                            </div>
                            <button onclick="adminGlobalWelfare()" class="cyber-btn" style="width:auto; margin:0; border-color:#ff00de; color:#ff00de;">üöÄ ÂèëÊîæ</button>
                        </div>
                    </div>

                    <!-- 5. ÊóßÂäüËÉΩ (ÂèëÂ∏ÉÂÖ¨Âëä„ÄÅË°•ÂèëÂØÜÈí•„ÄÅÂèëÂ§¥Ë°î) -->
                    <div class="glass-card" style="border-color:#ff3333; margin-bottom:20px; background:rgba(255,51,51,0.05);">
                        <h3>üì£ ÂèëÂ∏ÉÂÖ®Á´ôÂÖ¨Âëä</h3>
                        <input type="text" id="adminAnnounceTitle" class="cyber-input" placeholder="ÂÖ¨ÂëäÊ†áÈ¢ò">
                        <textarea id="adminAnnounceContent" class="cyber-textarea" placeholder="ÂÖ¨ÂëäÂÜÖÂÆπ..." style="height:80px;"></textarea>
                        <button onclick="adminPostAnnounce()" class="cyber-btn" style="border-color:#ff3333; color:#ff3333">Á´ãÂç≥ÂèëÂ∏ÉÂÖ¨Âëä</button>
                    </div>
                    
                    <div style="display:flex; gap:20px;">
                        <div class="glass-card" style="flex:1; border-color:#bc13fe;">
                            <h3>ÂèëÊîæÂ§¥Ë°î</h3>
                            <input type="text" id="adminTitleUser" class="cyber-input" placeholder="Áî®Êà∑Âêç">
                            <div style="display:flex; gap:5px;">
                                <input type="text" id="adminTitleText" class="cyber-input" placeholder="Â§¥Ë°î">
                                <input type="color" id="adminTitleColor" value="#00ff00" style="height:42px;width:50px;border:1px solid #333;background:#000;">
                            </div>
                            <button onclick="adminGrantTitle()" class="cyber-btn" style="border-color:#bc13fe;color:#bc13fe;">GRANT</button>
                        </div>
                        <div class="glass-card" style="flex:1; border-color:#888;">
                            <h3>Êü•ÊóßÂØÜÈí•</h3>
                            <input type="text" id="adminTargetUser" class="cyber-input" placeholder="Áî®Êà∑Âêç">
                            <button onclick="adminGenKey()" class="cyber-btn" style="border-color:#888;color:#888;">QUERY</button>
                            <div id="adminKeyResult" style="margin-top:5px; color:#0f0; font-weight:bold; font-size:0.8rem; word-break:break-all;"></div>
                        </div>
                    </div>
                </div>
            </div>

            <footer><p>¬© 2025 1EAK.COOL | SYSTEM ONLINE</p></footer>
        </main>
    </div>
    <!-- ÂõæÁâáÊü•ÁúãÂô® (Lightbox) -->
    <div id="lightbox" class="lightbox">
        <!-- ÂÖ≥Èó≠ÊåâÈíÆ -->
        <span class="lightbox-close" onclick="closeLightbox()">√ó</span>
    
        <!-- ÊóãËΩ¨ÊåâÈíÆ (Êîπ‰∏∫ SVG ÂõæÊ†á) -->
        <div class="lightbox-rotate" onclick="rotateImage(event)">
            <!-- ‰∏Ä‰∏™ÁÆÄÂçïÁöÑÁôΩËâ≤Âà∑Êñ∞ÂõæÊ†á -->
            <svg viewBox="0 0 24 24" width="30" height="30" fill="white">
                <path d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"/>
            </svg>
        </div>
        <!-- ÂõæÁâáÂÜÖÂÆπ -->
        <img class="lightbox-content" id="lightboxImg" onclick="event.stopPropagation()">
    </div>

    <!-- 2. ÂïÜÂìÅÈ¢ÑËßàÂºπÁ™ó -->
    <div id="preview-modal" class="modal-overlay" style="display:none;">
        <div class="modal-card glass-card" style="max-width:350px; width:90%;">
            <h3>ÊïàÊûúÈ¢ÑËßà / PREVIEW</h3>
            <p style="color:#666; font-size:0.8rem; margin-bottom:15px;">Ê≠§Â§Ñ‰ªÖ‰∏∫ËßÜËßâÊºîÁ§∫ÔºåÂÆûÈôÖÊïàÊûú‰ª•Ë¥≠‰π∞Âêé‰∏∫ÂáÜ„ÄÇ</p>
            
            <!-- È¢ÑËßàÂÆπÂô® -->
            <div id="previewContainer" class="preview-stage">
                <!-- Âä®ÊÄÅÂÜÖÂÆπ -->
            </div>
    
            <div style="display:flex; gap:10px; margin-top:20px;">
                <button onclick="closePreviewModal()" class="cyber-btn" style="border-color:#666; color:#888;">ÂÖ≥Èó≠</button>
                <button id="previewBuyBtn" class="cyber-btn" style="border-color:#0f0; color:#0f0;">Á´ãÂç≥Ë¥≠‰π∞</button>
            </div>
        </div>
    </div>

    <div id="bulk-sell-modal" class="modal-overlay" style="display:none;">
        <div class="modal-card glass-card" style="max-width:350px; padding:25px;">
            <div style="text-align:center; margin-bottom:20px;">
                <h3 style="color:#ff3333; margin:0; font-size:1.4rem;">‚ôªÔ∏è ËµÑÊ∫êÂõûÊî∂ÂçèËÆÆ</h3>
                <p style="font-size:0.8rem; color:#666; margin-top:5px;">ÂãæÈÄâË¶ÅÊ∏ÖÁ©∫ÁöÑÊàòÂà©ÂìÅÁ≠âÁ∫ß</p>
            </div>
            
            <!-- ËøôÈáåÁöÑÁ±ªÂêçÂøÖÈ°ªÊòØ bulk-options-grid -->
            <div class="bulk-options-grid">
                <label class="bulk-opt" style="border-color:#aaa; color:#aaa;">
                    <input type="checkbox" value="white" checked> 
                    <span>‚ö™ </span>
                </label>
                <label class="bulk-opt" style="border-color:#0f0; color:#0f0;">
                    <input type="checkbox" value="green" checked> 
                    <span>üü¢ </span>
                </label>
                <label class="bulk-opt" style="border-color:#00f3ff; color:#00f3ff;">
                    <input type="checkbox" value="blue"> 
                    <span>üîµ </span>
                </label>
                <label class="bulk-opt" style="border-color:#bd00ff; color:#bd00ff;">
                    <input type="checkbox" value="purple"> 
                    <span>üü£ </span>
                </label>
                <label class="bulk-opt" style="border-color:#FFD700; color:#FFD700;">
                    <input type="checkbox" value="gold"> 
                    <span>üü° </span>
                </label>
                <label class="bulk-opt" style="border-color:#ff3333; color:#ff3333;">
                    <input type="checkbox" value="red"> 
                    <span>üî¥ </span>
                </label>
            </div>
    
            <div style="margin-top:25px; display:flex; gap:15px;">
                <button onclick="document.getElementById('bulk-sell-modal').style.display='none'" class="cyber-btn" style="border-color:#666; color:#888; flex:1;">ÂèñÊ∂à</button>
                <button onclick="submitBulkSell()" class="cyber-btn danger" style="background:#ff3333; color:black; border:none; font-weight:bold; flex:1.5; text-shadow:none;">Á°ÆËÆ§‰∏ÄÈîÆÂá∫ÂîÆ</button>
            </div>
        </div>
    </div>

    <div id="lotto-modal" class="modal-overlay" style="display:none;">
        <div class="modal-card glass-card" style="text-align:center;">
            <h3 style="color:#ffd700; text-shadow:0 0 10px gold;">CYBER LOTTO</h3>
            <p style="color:#888; font-size:0.8rem;">ÊØèÊó• 00:00 (ÊµÆÂä®) Ëá™Âä®ÂºÄÂ•ñÔºåÁã¨ÂêûÂ•ñÊ±†„ÄÇ</p>
            
            <div style="background:rgba(255,215,0,0.1); border:1px solid #ffd700; padding:15px; margin:15px 0; border-radius:8px;">
                <div style="font-size:0.8rem;">ÂΩìÂâçÂ•ñÊ±†</div>
                <div id="lottoPool" style="font-size:2rem; font-weight:bold; color:#ffd700;">Loading...</div>
            </div>
            
            <div style="display:flex; justify-content:space-between; font-size:0.8rem; color:#ccc; margin-bottom:15px;">
                <span>‰∏ãÊúüÂºÄÂ•ñ: <span id="lottoTimer">--:--:--</span></span>
                <span>Â∑≤‰π∞Á•®Êï∞: <span id="lottoMyTickets" style="color:#fff">0</span></span>
            </div>
            
            <div style="display:flex; gap:10px;">
                <button onclick="closeLottoModal()" class="cyber-btn" style="border-color:#666; color:#888;">ÂÖ≥Èó≠</button>
                <button onclick="buyLottoTicket()" class="cyber-btn" style="border-color:#ffd700; color:#ffd700;">
                    ‰π∞Á•® (100 i)
                </button>
            </div>
        </div>
    </div>

    <!-- ÁßªÂä®Á´ØÂ∫ïÈÉ®Âø´Êç∑ÂèëÂ∏ñÊåâÈíÆ (‰ªøÂæÆÂçö) -->
    <div id="mobile-post-btn" onclick="window.location.hash='#write'">
        <svg viewBox="0 0 24 24" width="30" height="30" fill="white">
            <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/>
        </svg>
    </div>
                        
    <script src="script.js?v=10.5"></script>
</body>
</html>

















